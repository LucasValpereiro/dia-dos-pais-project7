// CARROSSEL DE FOTOS - COMPLETAMENTE REESCRITO PARA FUNCIONAR
function startPhotoCarousels() {
    console.log('üéØ Iniciando carrossel de fotos...');
    
    const carousels = document.querySelectorAll('.photo-carousel');
    
    if (carousels.length === 0) {
        console.log('‚ùå Nenhum carrossel encontrado!');
        return;
    }
    
    carousels.forEach((carousel, carouselIndex) => {
        const photos = carousel.querySelectorAll('.carousel-photo');
        let currentIndex = 0;
        
        console.log(`üì∑ Carrossel ${carouselIndex + 1}: ${photos.length} fotos encontradas`);
        
        if (photos.length === 0) {
            console.log(`‚ùå Carrossel ${carouselIndex + 1}: Nenhuma foto encontrada!`);
            return;
        }
        
        // FOR√áA todas as fotos para opacidade 0 primeiro
        photos.forEach((photo, index) => {
            photo.style.opacity = '0';
            photo.classList.remove('active');
        });
        
        // Mostra apenas a primeira foto
        if (photos[0]) {
            photos[0].style.opacity = '1';
            photos[0].classList.add('active');
            console.log(`‚úÖ Carrossel ${carouselIndex + 1}: Primeira foto ativada`);
        }
        
        // Fun√ß√£o para trocar foto
        const changePhoto = () => {
            console.log(`üîÑ Carrossel ${carouselIndex + 1}: Trocando da foto ${currentIndex + 1} para ${((currentIndex + 1) % photos.length) + 1}`);
            
            // Remove ativa atual
            photos[currentIndex].style.opacity = '0';
            photos[currentIndex].classList.remove('active');
            
            // Pr√≥xima foto
            currentIndex = (currentIndex + 1) % photos.length;
            
            // Ativa pr√≥xima foto
            setTimeout(() => {
                photos[currentIndex].style.opacity = '1';
                photos[currentIndex].classList.add('active');
            }, 100);
        };
        
        // Inicia o intervalo para troca autom√°tica a cada 4 segundos
        const intervalId = setInterval(changePhoto, 4000);
        
        console.log(`‚úÖ Carrossel ${carouselIndex + 1}: Intervalo configurado (ID: ${intervalId})`);
        
        // Salva o ID do intervalo no elemento para poss√≠vel cleanup
        carousel.setAttribute('data-interval-id', intervalId);
    });
    
    console.log('üéØ Todos os carross√©is iniciados!');
}

// √ÅUDIO INTERATIVO - COMPLETAMENTE REESCRITO PARA FUNCIONAR
function setupAudioInteractions() {
    console.log('üéµ Configurando √°udios...');
    
    // Aguarda um pouco para garantir que o DOM est√° totalmente carregado
    setTimeout(() => {
        // BUSCA POR M√öLTIPLOS SELETORES PARA GARANTIR QUE ENCONTRE
        const corinthiansIcon = document.querySelector('.corinthians-icon') || 
                              document.querySelector('#corinthians-click') || 
                              document.querySelector('img[src*="corinthians"]');
                              
        const bitcoinIcon = document.querySelector('.bitcoin-icon') || 
                           document.querySelector('#bitcoin-click') || 
                           document.querySelector('img[src*="bitcoin"]');
        
        // BUSCA OS √ÅUDIOS
        const hinoAudio = document.getElementById('hino-corinthians');
        const bitcoinAudio = document.getElementById('bitcoin-cash');
        
        console.log('üîç Elementos encontrados:');
        console.log('√çcone Corinthians:', corinthiansIcon);
        console.log('√çcone Bitcoin:', bitcoinIcon);
        console.log('√Åudio Hino:', hinoAudio);
        console.log('√Åudio Bitcoin:', bitcoinAudio);
        
        // FUN√á√ÉO PARA TENTAR TOCAR √ÅUDIO
        function tentarTocarAudio(audio, nome) {
            if (!audio) {
                console.log(`‚ùå √Åudio ${nome} n√£o encontrado!`);
                return false;
            }
            
            console.log(`üéµ Tentando tocar ${nome}...`);
            
            // Para e reseta o √°udio
            audio.pause();
            audio.currentTime = 0;
            
            // Tenta tocar
            const playPromise = audio.play();
            
            if (playPromise !== undefined) {
                playPromise
                    .then(() => {
                        console.log(`‚úÖ ${nome} tocando com sucesso!`);
                        showAudioMessage(`üéµ ${nome} est√° tocando! üéµ`);
                    })
                    .catch(error => {
                        console.log(`‚ùå Erro ao tocar ${nome}:`, error);
                        showAudioMessage(`üéµ ${nome} - Clique para permitir √°udio! üéµ`);
                    });
            }
            
            return true;
        }
        
        // CONFIGURAR CLIQUE NO √çCONE DO CORINTHIANS
        if (corinthiansIcon) {
            console.log('üñ§ Configurando clique do Corinthians...');
            
            corinthiansIcon.addEventListener('click', function(e) {
                e.preventDefault();
                console.log('üñ§ CLICOU NO CORINTHIANS! ü§ç');
                
                // Para o bitcoin se estiver tocando
                if (bitcoinAudio) {
                    bitcoinAudio.pause();
                    bitcoinAudio.currentTime = 0;
                }
                
                // Toca o hino
                const sucesso = tentarTocarAudio(hinoAudio, 'Hino do Corinthians');
                
                if (!sucesso) {
                    showAudioMessage('üéµ Vai Corinthians! üñ§ü§ç');
                }
                
                // Efeito visual
                corinthiansIcon.style.transform = 'scale(1.3) rotate(5deg)';
                corinthiansIcon.style.filter = 'drop-shadow(0 0 20px #000000)';
                setTimeout(() => {
                    corinthiansIcon.style.transform = 'scale(1)';
                    corinthiansIcon.style.filter = 'drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))';
                }, 300);
            });
            
            // Adiciona cursor pointer
            corinthiansIcon.style.cursor = 'pointer';
            console.log('‚úÖ Clique do Corinthians configurado!');
        } else {
            console.log('‚ùå √çcone do Corinthians N√ÉO encontrado!');
        }
        
        // CONFIGURAR CLIQUE NO √çCONE DO BITCOIN
        if (bitcoinIcon) {
            console.log('‚Çø Configurando clique do Bitcoin...');
            
            bitcoinIcon.addEventListener('click', function(e) {
                e.preventDefault();
                console.log('‚Çø CLICOU NO BITCOIN! üöÄ');
                
                // Para o hino se estiver tocando
                if (hinoAudio) {
                    hinoAudio.pause();
                    hinoAudio.currentTime = 0;
                }
                
                // Toca o som do bitcoin
                const sucesso = tentarTocarAudio(bitcoinAudio, 'Som do Bitcoin');
                
                if (!sucesso) {
                    showAudioMessage('üí∞ Cha-ching! To the moon! üöÄ');
                }
                
                // Efeito visual
                bitcoinIcon.style.transform = 'scale(1.3) rotate(-5deg)';
                bitcoinIcon.style.filter = 'drop-shadow(0 0 20px #f7931a)';
                setTimeout(() => {
                    bitcoinIcon.style.transform = 'scale(1)';
                    bitcoinIcon.style.filter = 'drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))';
                }, 300);
            });
            
            // Adiciona cursor pointer
            bitcoinIcon.style.cursor = 'pointer';
            console.log('‚úÖ Clique do Bitcoin configurado!');
        } else {
            console.log('‚ùå √çcone do Bitcoin N√ÉO encontrado!');
        }
        
        // PR√â-CARREGA OS √ÅUDIOS
        if (hinoAudio) {
            hinoAudio.load();
            hinoAudio.volume = 0.7;
            console.log('üéµ Hino pr√©-carregado');
        }
        
        if (bitcoinAudio) {
            bitcoinAudio.load();
            bitcoinAudio.volume = 0.7;
            console.log('üí∞ Som do Bitcoin pr√©-carregado');
        }
        
    }, 1000); // Aguarda 1 segundo para garantir que tudo carregou
}

// Fun√ß√£o para mostrar mensagens visuais
function showAudioMessage(message) {
    console.log('üì¢ Mostrando mensagem:', message);
    
    // Remove mensagem anterior se existir
    const existingMessage = document.querySelector('.audio-message');
    if (existingMessage) {
        existingMessage.remove();
    }
    
    const messageDiv = document.createElement('div');
    messageDiv.className = 'audio-message';
    messageDiv.textContent = message;
    messageDiv.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.9);
        color: white;
        padding: 20px 40px;
        border-radius: 15px;
        font-size: 1.5rem;
        z-index: 9999;
        pointer-events: none;
        animation: fadeInOut 3s ease-in-out;
        border: 2px solid #f7931a;
        text-align: center;
        font-weight: bold;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    `;
    
    // Adiciona anima√ß√£o CSS se n√£o existir
    if (!document.querySelector('#audio-message-animation')) {
        const style = document.createElement('style');
        style.id = 'audio-message-animation';
        style.textContent = `
            @keyframes fadeInOut {
                0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
                20%, 80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            }
        `;
        document.head.appendChild(style);
    }
    
    document.body.appendChild(messageDiv);
    
    setTimeout(() => {
        if (messageDiv && messageDiv.parentNode) {
            messageDiv.remove();
        }
    }, 3000);
}

// Criar √≠cones flutuantes dinamicamente
function createFloatingIcons() {
    const iconsContainer = document.querySelector('.floating-icons');
    if (!iconsContainer) return;
    
    const icons = ['‚öΩ', '‚Çø', 'üèì', 'üñ§', 'ü§ç', 'üöÄ', 'üí™', 'üèÜ'];
    
    setInterval(() => {
        const icon = document.createElement('div');
        icon.className = 'floating-icon';
        icon.textContent = icons[Math.floor(Math.random() * icons.length)];
        icon.style.left = Math.random() * 100 + '%';
        icon.style.animationDuration = (Math.random() * 4 + 6) + 's';
        icon.style.fontSize = (Math.random() * 1 + 1.5) + 'rem';
        
        iconsContainer.appendChild(icon);
        
        setTimeout(() => {
            if (icon && icon.parentNode) {
                icon.remove();
            }
        }, 10000);
    }, 4000);
}

// Simulador de pre√ßo Bitcoin
function updateBitcoinTicker() {
    const ticker = document.querySelector('.bitcoin-ticker');
    if (!ticker) return;
    
    const prices = ['$45,123', '$46,789', '$44,567', '$47,234', '$45,890', '$48,156', '$43,967'];
    const messages = [
        'HODL strong, pai! To the moon!',
        'Diamond hands forever!',
        'Bitcoin √© o futuro!',
        'Criptos subindo!',
        'Estrat√©gia HODL ativa!'
    ];
    
    setInterval(() => {
        const randomPrice = prices[Math.floor(Math.random() * prices.length)];
        const randomMessage = messages[Math.floor(Math.random() * messages.length)];
        ticker.innerHTML = `‚Çø Bitcoin: ${randomPrice} | "${randomMessage}" üöÄ`;
        
        ticker.style.transform = 'scale(1.05)';
        setTimeout(() => {
            ticker.style.transform = 'scale(1)';
        }, 200);
    }, 6000);
}

// Anima√ß√£o das mem√≥rias
function setupMemoryAnimations() {
    const memoryItems = document.querySelectorAll('.memories-list li');
    memoryItems.forEach((item, index) => {
        item.style.setProperty('--delay', index + 1);
        
        item.addEventListener('mouseenter', () => {
            item.style.transform = 'scale(1.02) translateX(5px)';
        });
        
        item.addEventListener('mouseleave', () => {
            item.style.transform = 'scale(1) translateX(0)';
        });
    });
}

// Easter eggs
function setupEasterEggs() {
    let clickCount = 0;
    
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('bitcoin-ticker') || e.target.textContent.includes('‚Çø')) {
            clickCount++;
            
            if (clickCount === 1) {
                showAudioMessage('üöÄ To the moon, pai! üöÄ');
            } else if (clickCount === 3) {
                showAudioMessage('üíé Diamond hands! HODL forever! üíé');
            } else if (clickCount === 5) {
                showAudioMessage('‚ö° Bitcoin Lightning Network! ‚ö°');
                clickCount = 0;
            }
            
            setTimeout(() => { clickCount = 0; }, 3000);
        }
    });
    
    const heart = document.querySelector('.heart');
    if (heart) {
        heart.addEventListener('click', () => {
            showAudioMessage('‚ù§Ô∏è Te amo muito, pai! ‚ù§Ô∏è');
        });
    }
}

// Configurar v√≠deo
function setupVideo() {
    const video = document.querySelector('.special-video');
    if (video) {
        video.addEventListener('loadedmetadata', () => {
            console.log('üé• V√≠deo carregado com sucesso!');
        });
        
        video.addEventListener('error', (e) => {
            console.log('‚ùå Erro ao carregar v√≠deo:', e);
        });
        
        video.addEventListener('play', () => {
            console.log('‚ñ∂Ô∏è V√≠deo iniciado!');
        });
    }
}

// Fun√ß√£o utilit√°ria debounce
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// INICIALIZA√á√ÉO PRINCIPAL
document.addEventListener('DOMContentLoaded', function() {
    console.log('üöÄ INICIANDO SITE DO PAI CORINTHIANO! üöÄ');
    console.log('‚è∞ DOM carregado, iniciando funcionalidades...');
    
    // Aguarda um pouco e inicia tudo
    setTimeout(() => {
        console.log('üéØ Iniciando carross√©is...');
        startPhotoCarousels();
        
        console.log('üéµ Configurando √°udios...');
        setupAudioInteractions();
        
        console.log('‚ú® Outras funcionalidades...');
        createFloatingIcons();
        updateBitcoinTicker();
        setupMemoryAnimations();
        setupEasterEggs();
        setupVideo();
        
        console.log('‚úÖ TUDO CONFIGURADO COM SUCESSO!');
        
    }, 500);
});

// Listener adicional para quando p√°gina carregar completamente
window.addEventListener('load', function() {
    console.log('üåü P√ÅGINA COMPLETAMENTE CARREGADA!');
    
    // For√ßa reinicializa√ß√£o dos carross√©is ap√≥s 2 segundos
    setTimeout(() => {
        console.log('üîÑ For√ßando reinicializa√ß√£o dos carross√©is...');
        startPhotoCarousels();
    }, 2000);
    
    // For√ßa configura√ß√£o dos √°udios novamente
    setTimeout(() => {
        console.log('üîä Reconfigura√ß√£o de √°udios...');
        setupAudioInteractions();
    }, 3000);
});

// Debug: Adiciona informa√ß√µes no console
console.log(`
üñ§ü§çüñ§ü§çüñ§ü§çüñ§ü§çüñ§ü§çüñ§ü§çüñ§ü§çüñ§ü§çüñ§ü§çüñ§ü§ç
       SITE DO PAI CORINTHIANO
üñ§ü§çüñ§ü§çüñ§ü§çüñ§ü§çüñ§ü§çüñ§ü§çüñ§ü§çüñ§ü§çüñ§ü§çüñ§ü§ç

‚úÖ JavaScript carregado
‚öΩ Vai Corinthians!
‚Çø Bitcoin to the moon!
üèì Pickleball champion!

Funcionalidades:
üì∑ Carrossel: 4 segundos por foto
üéµ √Åudios: Clique nos √≠cones
üé¨ V√≠deo: Player integrado
‚ú® Easter eggs: Clique no ticker
`);